<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="js/dyr.js"></script>
</head>
<body>
    <script>
        function genFam(chosenId,animalList) {
            let currentAnimal = {};
            let parentsArr = [];
            let grandParentsArr = [];
            animalList.forEach(element => {
                if (element.did === chosenId) {
                    currentAnimal = element
                }
            });
            animalList.forEach(allAnimal => {
                if (currentAnimal.far === allAnimal.did || currentAnimal.mor === allAnimal.did) {
                    parentsArr.push(allAnimal)
                }
            });
            parentsArr.forEach(parent => {
                animalList.forEach(allAnimals => {
                    if (parent.far === allAnimals.did || parent.mor === allAnimals.did) {
                        grandParentsArr.push(allAnimals)
                    }
                });
            });
            let family = {
                child: currentAnimal,
                parents: parentsArr,
                fathersParents: [grandParentsArr[0],grandParentsArr[1]],
                mothersParents: [grandParentsArr[2],grandParentsArr[3]]
            }
            return family
        }
        async function pageLoad() {
            let allAnimals = await getAllAnimals()
            let ANIMALID = 76
            console.log(allAnimals);
            let fam = genFam(ANIMALID, allAnimals);
            console.log(fam);
        }
        pageLoad()
    </script>
</body>
</html>